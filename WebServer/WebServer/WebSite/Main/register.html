<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <title>H+ 后台主题UI框架 - 注册</title>
    <meta name="keywords" content="H+后台主题,后台bootstrap框架,会员中心主题,后台HTML,响应式后台">
    <meta name="description" content="H+是一个完全响应式，基于Bootstrap3最新版本开发的扁平化主题，她采用了主流的左右两栏式布局，使用了Html5+CSS3等现代技术">

    <link rel="shortcut icon" href="favicon.ico"> <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link href="css/plugins/iCheck/custom.css" rel="stylesheet">
    <link href="css/animate.min.css" rel="stylesheet">
    <link href="css/style.min.css" rel="stylesheet">
    <link href="css/plugins/toastr/toastr.min.css" rel="stylesheet">
    <script>if(window.top !== window.self){ window.top.location = window.location;}</script>

</head>

<body class="gray-bg">

    <div class="middle-box text-center loginscreen   animated fadeInDown">
        <div>
            <div>

                <h1 class="logo-name">H+</h1>

            </div>
            <h3>欢迎注册</h3>
            <p>创建一个新账户</p>
            <form class="m-t" role="form">
                <div class="form-group">
                    <input id="userName" type="text" class="form-control" placeholder="请输入登录账号" required="">
                </div>
                <div class="form-group">
                    <input id="fullName" type="text" class="form-control" placeholder="请输入用户名" required="">
                </div>
                <div class="form-group">
                    <input id="phone" type="number" class="form-control" placeholder="请输入电话号码" required="">
                </div>
                <div class="form-group">
                    <input id="email" type="email" class="form-control" placeholder="请输入邮箱" required="">
                </div>
                <div class="form-group">
                    <input id="userPassword1" type="password" class="form-control" placeholder="请输入密码" required="">
                </div>
                <div class="form-group">
                    <input id="userPassword2" type="password" class="form-control" placeholder="请再次输入密码" required="">
                </div>
                <div class="form-group text-left">
                    <div class="checkbox i-checks">
                        <label class="no-padding">
                            <input id="protocolCb" type="checkbox"><i></i> 我同意注册协议</label>
                    </div>
                </div>
                <button type="button" onclick="Register()" class="btn btn-primary block full-width m-b">注 册</button>

                <p class="text-muted text-center"><small>已经有账户了？</small><a href="login.html">点此登录</a>
                </p>

            </form>
        </div>
    </div>
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/plugins/iCheck/icheck.min.js"></script>
    <script src="js/plugins/toastr/toastr.min.js"></script>
    <script src="js/main.js"></script>
    <script src="js/md5.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $(".i-checks").iCheck({
                checkboxClass: "icheckbox_square-green", radioClass: "iradio_square-green",
            })
        });

        //获取接口文档
        function Register() {
            var userPassword1 = $("#userPassword1").val();
            var userPassword2 = $("#userPassword2").val();
            if (userPassword1 != userPassword2)
            {
                toastr.options = {
                    "closeButton": true,
                    "debug": false,
                    "progressBar": true,
                    "positionClass": "toast-top-right",
                    "onclick": null,
                    "showDuration": "2000",
                    "hideDuration": "1000",
                    "timeOut": "7000",
                    "extendedTimeOut": "1000",
                    "showEasing": "swing",
                    "hideEasing": "linear",
                    "showMethod": "fadeIn",
                    "hideMethod": "fadeOut"
                }

                toastr.error("提示", "密码不相同");
                return;
            }
            var protocolCb = $("#protocolCb").is(':checked');
            if (protocolCb == false)
            {
                toastr.warning("提示", "协议未勾选");
                return;
            }

            var userName = $("#userName").val();
            var fullName = $("#fullName").val();
            var phone = $("#phone").val();
            var email = $("#email").val();

            var pwd = md5(userPassword1);

            //方法参数
            var data = new Array();
            data[0] = userName;
            data[1] = pwd;
            data[2] = fullName;
            data[3] = 1;
            data[4] = phone;
            data[5] = email;

            WebMain.Post("SysUser", "Register", data, RegisterCallBack);
        }

        function RegisterCallBack(data) {
            if (data == {}) retun;

            if (data.Status == 0) {
                toastr.success("提示", "注册成功");
                window.location.href = 'Login.html';
            } else {
                toastr.options = {
                    "closeButton": true,
                    "debug": false,
                    "progressBar": true,
                    "positionClass": "toast-top-right",
                    "onclick": null,
                    "showDuration": "2000",
                    "hideDuration": "1000",
                    "timeOut": "7000",
                    "extendedTimeOut": "1000",
                    "showEasing": "swing",
                    "hideEasing": "linear",
                    "showMethod": "fadeIn",
                    "hideMethod": "fadeOut"
                }
                toastr.error("提示", data.StatusValue)
            }
        }
    </script>
</body>

</html>
